---
import Button from "@/components/Button.astro";

const processData = {
  title: "Nuestro Proceso Simplificado",
  steps: [
    {
      number: 1,
      title: "Contacto y Evaluación",
      description:
        "Escuchamos tu caso sin costo y analizamos su viabilidad.",
    },
    {
      number: 2,
      title: "Diseño de Estrategia",
      description:
        "Revisamos la documentación y te explicamos los pasos a seguir.",
    },
    {
      number: 3,
      title: "Defensa Activa",
      description:
        "Te representamos en todo el proceso hasta obtener un resultado.",
    },
  ],
  cta: {
    text: "Agendá tu consulta",
    desktop:
      "https://web.whatsapp.com/send?phone=5403415873908&text=Hola%2C%20quiero%20agendar%20una%20consulta.",
    mobile:
      "https://wa.me/5403415873908?text=Hola%2C%20quiero%20agendar%20una%20consulta.",
  },
};
---

<section class="process u-section" aria-labelledby="process-title">
  <div class="u-container u-text-center">
    <h2 id="process-title" class="section__title">{processData.title}</h2>

    <div class="process__steps" role="list">
      {processData.steps.map((step) => (
        <article
          class="step"
          role="listitem"
          aria-label={`${step.number}. ${step.title}`}
        >
          <div class="step__num" aria-hidden="true">{step.number}</div>
          <div class="step__content">
            <h3>{step.title}</h3>
            <p>{step.description}</p>
          </div>
        </article>
      ))}
    </div>

    <div class="process__cta">
      <Button
        href={processData.cta.desktop}
        variant="primary"
        device="desktop"
        external
        ariaLabel={`${processData.cta.text} por WhatsApp`}
      >
        {processData.cta.text}
      </Button>

      <Button
        href={processData.cta.mobile}
        variant="primary"
        device="mobile"
        external
        ariaLabel={`${processData.cta.text} por WhatsApp`}
      >
        {processData.cta.text}
      </Button>
    </div>
  </div>
</section>

<style>
  /* =========
     CÓMO TRABAJAMOS
     ========= */

  .process {
    /* background: var(--color-surface); */
  }

  .process__steps {
    display: grid;
    gap: 1rem;
    margin-top: 2rem;
  }

  @media (min-width: 900px) {
    .process__steps {
      grid-template-columns: repeat(3, 1fr);
      gap: 1.5rem;
    }
  }

  .step {
    display: grid;
    grid-template-columns: 40px 1fr;
    gap: 1rem;
    align-items: start;
    background: var(--color-bg, #fff);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-2, 12px);
    padding: 1.25rem;
    text-align: left;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
    box-shadow:
      0 2px 4px rgba(0, 0, 0, 0.04),
      0 4px 12px rgba(0, 0, 0, 0.06);
  }

  .step:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
  }

  .step__num {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: grid;
    place-items: center;
    background: #eaf1ff;
    color: #1d4ed8;
    font-weight: 800;
    font-family: var(--font-serif);
    font-size: 1.1rem;
  }

  .step__content h3 {
    margin: 0.1rem 0 0.25rem;
    font-size: 1.1rem;
    font-weight: 700;
  }

  .step__content p {
    margin: 0;
    color: var(--color-muted);
    line-height: 1.5;
  }

  .process__cta {
    margin-top: 2rem;
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
  }
</style>
