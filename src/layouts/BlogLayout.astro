---
// src\layouts\BlogLayout.astro
import MainLayout from "./MainLayout.astro";
import type { CollectionEntry } from "astro:content";


interface Props {
  post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
const { title, description, date, tags, image } = post.data;
---

<MainLayout title={title} description={description} image={image}>
  <article class="blog-article">
    <header class="blog-header">
      <h1 class="blog-title">{title}</h1>
      {description && <p class="blog-description">{description}</p>}

      <div class="blog-meta">
        <time datetime={date.toISOString()}>
          {date.toLocaleDateString("es-AR", {
            year: "numeric",
            month: "long",
            day: "numeric",
          })}
        </time>

        {tags && tags.length > 0 && (
          <nav aria-label="Etiquetas de la entrada">
            <ul class="blog-tags" role="list">
              {tags.map((tag: string) => (
                <li>
                  <a href={`/blog/tags/${tag}`} aria-label={`Ver posts con la etiqueta ${tag}`}>
                    {tag}
                  </a>
                </li>
              ))}
            </ul>
          </nav>
        )}
      </div>

      {image && (
        <figure>
          <img class="blog-cover" src={image} alt={`Imagen de portada del artÃ­culo: ${title}`} />
        </figure>
      )}
    </header>

    <section class="blog-content">
      <slot />
    </section>
  </article>
</MainLayout>

<style>
  .blog-article {
  font-family: var(--font-sans);
  line-height: 1.75;
  font-size: var(--step-0);
  color: var(--color-text, #1e293b);
}
.blog-title {
  font-family: var(--font-serif);
  font-size: var(--step-4);
  font-weight: 800;
  color: var(--color-title, #0f172a);
}
.blog-description {
  font-size: var(--step-1);
  color: var(--color-muted);
}

.blog-content :global(h2) {
  font-size: var(--step-2);
  font-weight: 700;
  margin-top: 2rem;
  margin-bottom: 0.5rem;
  color: var(--color-title);
}
.blog-content :global(h3) {
  font-size: var(--step-1);
  font-weight: 600;
  margin-top: 1.5rem;
  margin-bottom: 0.5rem;
}

.blog-content :global(p) {
  margin: 1rem 0;
  line-height: 1.75;
}

.blog-content :global(strong) {
  color: var(--brand-1);
  font-weight: 700;
}

.blog-content :global(img) {
  width: 100%;
  max-height: 500px;
  object-fit: cover;
  border-radius: var(--radius-1);
  margin: 1.5rem 0;
}

.blog-content :global(blockquote) {
  border-left: 4px solid var(--brand-1);
  padding-left: 1rem;
  margin: 1.5rem 0;
  font-style: italic;
  color: var(--color-muted);
  background: var(--color-surface);
  border-radius: var(--radius-1);
}

.blog-content :global(code) {
  background: var(--color-surface);
  padding: 0.2rem 0.5rem;
  border-radius: var(--radius-1);
  font-size: 0.9rem;
  font-family: monospace;
}

.blog-tags a {
  background: var(--brand-1);
  color: var(--on-brand);
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  font-size: 0.85rem;
  transition: filter 0.2s ease;
}
.blog-tags a:hover {
  filter: brightness(1.1);
}

.blog-article {
  max-width: 800px;
  margin-inline: auto;
  padding: 2rem 1rem;
}
@media (min-width: 960px) {
  .blog-article {
    padding: 3rem 0;
  }
}

</style>
